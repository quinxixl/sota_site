import React, {useEffect, useRef} from 'react';
import {gsap} from "gsap";
import {MorphSVGPlugin} from "gsap/MorphSVGPlugin"

gsap.registerPlugin(MorphSVGPlugin)

function Footer() {
    const rightWingRef = useRef(null);
    const leftWingRef = useRef(null);
    const timeRef = useRef(null);
    const svgRef = useRef(null);

    useEffect(() => {

        const rightWing = rightWingRef.current;
        const leftWing = leftWingRef.current;

        const rightWingEnd = "M50.2054 36.7537L50.2816 36.7968L60.917 42.7966L63.9744 60.1754L50.5373 56.9424L47.5762 46.5632L45.0866 39.9914L37.7421 34.5458L38.4837 33.0878L50.2054 36.7537ZM51.867 55.5558L55.8341 56.5102L54.0709 50.9614L49.7657 48.1902L51.867 55.5558ZM55.6981 50.6039L57.719 56.9637L61.902 57.9703L60.14 47.9552L58.5587 47.1242L55.6981 50.6039ZM49.043 45.7521L54.5991 49.3283L57.0588 46.3361L47.3269 41.2222L49.043 45.7521ZM47.6291 39.5067L59.7767 45.8902L59.4189 43.8562L49.8417 38.4533L47.6291 39.5067ZM45.8698 38.5068L47.6076 37.6795L42.6723 36.136L45.8698 38.5068Z"
        const leftWingEnd = "M31.2987 34.5465L23.9483 39.972L21.4497 46.5076L18.4736 56.8306L5.035 60.0663L8.12072 42.7738L18.8367 36.75L30.5587 33.0872L31.2987 34.5465ZM14.9506 50.8909L13.1831 56.3979L17.1467 55.4435L19.2548 48.1317L14.9506 50.8909ZM8.88908 47.9121L7.11404 57.8591L11.2948 56.8525L13.3234 50.532L10.4736 47.0822L8.88908 47.9121ZM11.9757 46.2955L14.4231 49.2583L19.9849 45.6929L21.7022 41.2012L11.9757 46.2955ZM9.61641 43.8361L9.25771 45.8461L21.3991 39.4872L19.2003 38.4488L9.61641 43.8361ZM21.4438 37.6735L23.1664 38.487L26.3421 36.143L21.4438 37.6735Z"

        timeRef.current = gsap.timeline({paused: true, repeat: -1, yoyo: true})
        timeRef.current.to(leftWing, {
            duration: 0.2,
            morphSVG: leftWingEnd,
            ease: "power2.inOut",
        }, 0);

        timeRef.current.to(rightWing, {
            duration: 0.2,
            morphSVG: rightWingEnd,
            ease: "power2.inOut",
        }, 0);
    }, [])

    const active = () =>  timeRef.current.play();
    const passive = () =>  timeRef.current.pause(0);

    return(
        <footer className='footer'>
            <svg width="69" height="72" viewBox="0 0 69 72" fill="none" xmlns="http://www.w3.org/2000/svg" className='footer__bee' onMouseEnter={active} onMouseLeave={passive} ref={svgRef} style={{cursor: "pointer"}}
                 onClick={() => {
                     document.getElementById('hero').scrollIntoView({behavior: "smooth"});
                 }}>>
                <path d="M49.2888 33.6254L49.3736 33.6473L61.1994 36.69L68.6507 52.6853L54.8346 53.0403L49.2881 43.7811L45.1824 38.0777L36.6787 34.7185L37.0178 33.1182L49.2888 33.6254ZM55.7602 51.3568L59.8391 51.2519L56.6999 46.3485L51.8241 44.7861L55.7602 51.3568ZM58.1791 45.582L61.7772 51.2021L66.0781 51.0917L61.7841 41.874L60.0415 41.4806L58.1791 45.582ZM50.495 42.6181L56.7873 44.6343L58.3888 41.1075L47.665 38.6866L50.495 42.6181ZM47.5129 36.9514L60.8987 39.9734L60.0266 38.1013L49.3774 35.3613L47.5129 36.9514ZM45.5547 36.4409L47.0192 35.192L41.8525 34.9785L45.5547 36.4409Z" fill="#F7F6F3" ref={rightWingRef} />
                <path d="M68.7772 12.627V28.3207L65.2185 28.9206L59.1183 37.8624L48.582 34.983L58.3183 28.4689L58.3317 28.4606L67.1181 23.0538V14.286H47.1733L43.1933 24.7035L41.6436 24.1114L46.0312 12.627H68.7772ZM59.0798 29.9555L52.5254 34.3408L58.4145 35.9501L62.9492 29.3032L59.0798 29.9555ZM62.8293 27.6409L67.1181 26.9178V25.0018L62.8293 27.6409Z" fill="#F7F6F3"/>
                <path d="M31.9738 34.7183L23.4697 38.0565L19.3646 43.7227L13.8181 52.9237L0 52.5709L7.45619 36.6664L19.3662 33.6213L31.6367 33.1172L31.9738 34.7183ZM11.9525 46.2746L8.81995 51.1364L12.8955 51.2404L16.8242 44.7234L11.9525 46.2746ZM6.8685 41.8284L2.57944 50.9771L6.87833 51.0869L10.4736 45.5067L8.61376 41.4369L6.8685 41.8284ZM10.2683 41.0658L11.8655 44.5611L18.1606 42.5567L20.9819 38.6624L10.2683 41.0658ZM8.62596 38.0796L7.75927 39.9282L21.1328 36.9284L19.2777 35.3563L8.62596 38.0796ZM21.6453 35.1881L23.0987 36.4198L26.7729 34.9775L21.6453 35.1881Z" fill="#F7F6F3" ref={leftWingRef} />
                <path d="M22.8435 12.3965L27.2511 23.8246L25.7031 24.4216L21.7052 14.0556H1.662V22.7715L10.487 28.1508L10.5004 28.159L10.5135 28.1678L20.2918 34.6486L9.70513 37.5145L3.57867 28.6186L0.00292969 28.0215V12.3965H22.8435ZM10.4054 35.6061L16.3184 34.0054L9.74423 29.6482L5.85482 28.9987L10.4054 35.6061ZM1.662 26.6165L5.95969 27.3342L1.662 24.7144V26.6165Z" fill="#F7F6F3"/>
                <path d="M37.7341 16.9053L42.4501 21.0801L44.0946 28.5141L34.357 37.9646L24.6221 28.5165L26.2168 21.082L30.935 16.9053H37.7341ZM35.1006 30.0008L35.1621 34.8713L42.2747 27.9684L41.2341 23.2644L35.1006 30.0008ZM26.4369 27.9659L33.5023 34.8232L33.4415 30.0054L27.4396 23.2916L26.4369 27.9659ZM28.1446 21.591L34.2726 28.4457L40.5187 21.5859L37.1051 18.5643H31.5639L28.1446 21.591Z" fill="#F7F6F3"/>
                <path d="M47.3506 1.26093L40.9125 6.76556V10.374L43.4698 15.1676L38.1881 18.5634H30.7163L25.3217 15.1747L27.8749 10.3886L27.7402 6.77193L21.4375 1.25467L22.5304 0.00626471L29.3715 5.995L29.4656 8.51828L34.5135 2.96029L39.2535 8.37451V6.00127L46.2724 0L47.3506 1.26093ZM35.3247 14.7125L35.2919 16.9043H37.7009L41.286 14.5991L39.7796 11.7752L35.3247 14.7125ZM27.513 14.5919L31.194 16.9043H33.6327L33.6656 14.7127L29.0228 11.7618L27.513 14.5919ZM29.9887 10.4099L34.4937 13.2733L38.8325 10.4125L34.4907 5.453L29.9887 10.4099Z" fill="#F7F6F3"/>
                <path d="M32.1573 34.5394L29.2646 38.0277H39.5707L36.7814 34.5269L38.079 33.493L42.0355 38.4589L43.9579 44.4349L42.859 50.62L41.8024 56.9202L35.2253 66.0027V71.6848H33.5662V66.0042L26.9498 56.9214L25.8928 50.6201L25.8913 50.6109L25.8899 50.6016L24.9971 44.4325L26.7514 38.4593L30.8803 33.4805L32.1573 34.5394ZM34.3936 64.3224L39.3915 57.4207H29.3662L34.3936 64.3224ZM28.4376 55.7617H40.3144L41.0608 51.3123H27.6911L28.4376 55.7617ZM27.4291 49.6532H41.3459L42.1152 45.3223H26.8023L27.4291 49.6532ZM26.9522 43.6632H41.9668L40.6877 39.6867H28.12L26.9522 43.6632Z" fill="#F7F6F3"/>
            </svg>

            <p className='footer__year'>&copy;2025</p>
            <div className='footer__socials'>
                <a href='' className='inst'>instagram</a>
                <a href='' className='youtube'>youtube</a>
                <a href='' className='vk'>vkontakte</a>
                <a href='' className='behance'>behance</a>
                <a href='' className='telegram'>telegram</a>
                <a href='' className='pinterest'>pinterest</a>
            </div>
        </footer>

    )
}

export default Footer;